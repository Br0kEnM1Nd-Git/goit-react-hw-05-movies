"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[708],{713:(t,e,s)=>{s.d(e,{Z:()=>a});var n=s(294);n.Z.defaults.params={api_key:"ac8fbb226a37f835673d1586bcf6a4c6"},n.Z.defaults.baseURL="https://api.themoviedb.org/3";const a=new class{async getTrending(){const{data:t}=await n.Z.get("trending/movie/day");return t.results}async searchMovies(t){const{data:e}=await n.Z.get("search/movie?".concat(t));return e}}},708:(t,e,s)=>{s.r(e),s.d(e,{default:()=>d});var n=s(713);const{useState:a}=s(791),r=()=>{const[t,e]=a(!1),[s,n]=a(null);return{isLoading:t,setIsLoading:e,error:s,setError:n}};var c=s(791),o=s(87),i=s(110),l=s(184);const d=()=>{const[t,e]=(0,c.useState)(""),[s,a]=(0,c.useState)([]),{isLoading:d,setIsLoading:h,error:u,setError:g}=r(),[p,m]=(0,o.lr)();(0,c.useEffect)((()=>{const t=p.toString();if(t){h(!0),g(null);const e=async()=>{try{const{results:e}=await n.Z.searchMovies(t);console.log(e),a(e)}catch({message:e}){g(e)}finally{h(!1)}};e()}}),[p,g,h]);return(0,l.jsxs)("div",{children:[(0,l.jsxs)("form",{onSubmit:s=>{s.preventDefault(),t&&m("query=".concat(t)),e("")},children:[(0,l.jsx)("input",{type:"text",value:t,onChange:t=>{let{target:{value:s}}=t;e(s)}}),(0,l.jsx)("button",{type:"submit",children:"Search"})]}),d?(0,l.jsx)("p",{children:"Loading..."}):u?(0,l.jsx)("p",{children:u}):s.length>0&&(0,l.jsx)("ul",{children:s.map((t=>{let{id:e,title:s,overview:n,poster_path:a}=t;return(0,l.jsx)("li",{children:(0,l.jsxs)(i.Fg,{to:"/movies/".concat(e),state:{from:"/movies".concat(p)},children:[" ",s,(0,l.jsx)("img",{height:100,weight:100,src:a?"https://image.tmdb.org/t/p/w500/".concat(a):"https://i.imgur.com/jtwlswk.png",alt:n})]})},e)}))})]})}},110:(t,e,s)=>{s.d(e,{Fg:()=>l,hX:()=>d});var n,a,r,c=s(168),o=s(87),i=s(867);i.ZP.div(n||(n=(0,c.Z)(["\n  height: '100vh';\n  display: 'flex';\n  justify-content: 'center';\n  align-items: 'center';\n"])));const l=(0,i.ZP)(o.rU)(a||(a=(0,c.Z)(["\n  color: blue;\n"]))),d=(0,i.ZP)(o.OL)(r||(r=(0,c.Z)(["\n  color: black;\n  &.active {\n    color: red;\n  }\n"])))}}]);
//# sourceMappingURL=708.e9fa2fd7.chunk.js.map